---
import { getAllTags } from "@/utils/getAllTags";
import Tag from "./Tag.astro";
const tags = await getAllTags();
import { Icon } from "astro-icon/components";
---

<div class="flex gap-3">
	<span id="oppener" class="size-12 rounded-full grid place-items-center border border-zinc-700 cursor-pointer">
		<Icon name="lucide:list-filter" class="w-6 h-6 text-white text-2xl" />
	</span>
	<div id="selector" class="opacity-0 transition-opacity" transition:persist>
		{
			tags.map((tag) => (
				<a href={`/blog/tag/${tag.toLowerCase()}`}>
					<Tag tag={tag} />
				</a>
			))
		}
	</div>
</div>

<script data-astro-rerun>
	document.getElementById("oppener")?.addEventListener("click", () => {
		const selector = document.getElementById("selector");
		selector.classList.toggle("opacity-0");
	})
</script>